# AstroArupShastri.com - Deployment Scripts Guide

## 🚀 Available Deployment Scripts

### 1. **`deploy-complete.sh`** ⭐ **RECOMMENDED**
**Complete automated deployment from scratch**

This script does EVERYTHING automatically:
- ✅ Creates MySQL database and user
- ✅ Deploys backend to `/root/astroarupshastri-backend`
- ✅ Deploys frontend to `/root/astroarupshastri-frontend`
- ✅ Sets up all configurations
- ✅ Creates management scripts
- ✅ Generates deployment summary

**Usage:**
```bash
# Upload project to server
scp -r astro-site root@88.222.245.41:/root/

# SSH to server
ssh root@88.222.245.41

# Navigate to project
cd astro-site

# Run complete deployment
./deploy-complete.sh
```

**What it asks for:**
- MySQL root password (to create database)
- That's it! Everything else is automated.

---

### 2. **`deploy-backend.sh`** + **`deploy-frontend.sh`**
**Manual deployment (separate scripts)**

If you prefer to deploy backend and frontend separately:

```bash
# Backend first
./deploy-backend.sh

# Then frontend
./deploy-frontend.sh
```

**Note:** Requires manual database creation in CloudPanel first.

---

### 3. **`deploy-full.sh`**
**Combined deployment (uses separate scripts)**

```bash
./deploy-full.sh
```

---

### 4. **`fix-database.sh`**
**Fix database connection issues**

Use this if you get database connection errors after deployment:

```bash
./fix-database.sh
```

---

## 🎯 Which Script Should You Use?

### For **First Time Deployment**: Use `deploy-complete.sh`
- ✅ Creates database automatically
- ✅ Handles everything from scratch
- ✅ Generates secure passwords
- ✅ Creates deployment documentation

### For **Updates**: Use individual scripts
- Backend updates: `deploy-backend.sh`
- Frontend updates: `deploy-frontend.sh`

### For **Database Issues**: Use `fix-database.sh`

---

## 📋 Complete Deployment Workflow

### Step 1: Upload Project
```bash
# From your local machine
scp -r astro-site root@88.222.245.41:/root/
```

### Step 2: SSH to Server
```bash
ssh root@88.222.245.41
cd astro-site
```

### Step 3: Run Complete Deployment
```bash
./deploy-complete.sh
```

### Step 4: Complete CloudPanel Configuration
The script will provide detailed instructions for:
- Creating site in CloudPanel
- Enabling SSL certificates
- Configuring Nginx
- Setting up DNS

### Step 5: Test Website
- Website: `https://astroarupshastri.com`
- API: `https://astroarupshastri.com/api`
- Admin: `https://astroarupshastri.com/admin`

---

## 📁 Final Directory Structure

After deployment:
```
/root/
├── astroarupshastri-backend/     # Backend application
│   ├── venv/                     # Python environment
│   ├── logs/                     # Backend logs
│   ├── status.sh                 # Status check script
│   └── restart.sh                # Restart script
│
├── astroarupshastri-frontend/    # Frontend application
│   ├── .next/                    # Built frontend
│   ├── src/                      # Source code
│   ├── status.sh                 # Status check script
│   └── rebuild.sh                # Rebuild script
│
└── astro-site/                   # Original project files
    ├── deploy-complete.sh        # This deployment script
    ├── DEPLOYMENT_SUMMARY.md     # Generated summary
    └── README_DEPLOYMENT.md      # This file
```

---

## 🛠️ Management After Deployment

### Backend Management
```bash
# Check status
/root/astroarupshastri-backend/status.sh

# Restart service
/root/astroarupshastri-backend/restart.sh

# View logs
tail -f /root/astroarupshastri-backend/logs/gunicorn.log
```

### Frontend Management
```bash
# Check status
/root/astroarupshastri-frontend/status.sh

# Rebuild frontend
/root/astroarupshastri-frontend/rebuild.sh
```

---

## 🔐 Important Notes

1. **Save the database password** generated by the script
2. **Complete CloudPanel configuration** after script finishes
3. **Test the website** after DNS propagation
4. **Keep deployment summary** for future reference

---

## 📞 Support

- **CloudPanel URL**: https://88.222.245.41:8443
- **Server IP**: 88.222.245.41
- **Domain**: astroarupshastri.com

**Ready to deploy? Run `./deploy-complete.sh` on your server!** 🚀
